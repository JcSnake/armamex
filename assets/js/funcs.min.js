/**
 * Global variables
 */

var isOnDebbug = true;
var version = 1.0;
var release = 1;

/**
 * Methods
 */

$(document).ready(function() {
    setFrmStyle($(window).width());
    setListeners();
});

$(window).resize(function() {
    setFrmStyle($(window).width());
});

function setListeners() {
    $('#am-send-contact').click(function() {
        if(validateContactForm()) {
            sendContactForm();
        }
    });

    $('.am-send-cotizacion').click(function() {
        UIkit.notify({
            message: 'Gracias por enviar tu solicitud.',
            status: 'success',
            timeout: 5000,
            pos: 'top-center'
        });
    });

    $('#cotizacionType').change(function() {
        var index = this.selectedIndex;
        setCotizacionFormsHide();

        switch (index) {
            case 1:
                $('#cotizacionOpt1')[0].classList.remove('uk-hidden');
                break;
            case 2:
                $('#cotizacionOpt2')[0].classList.remove('uk-hidden');
                break;
            case 3:
                $('#cotizacionOpt3')[0].classList.remove('uk-hidden');
                break;
        }

        if(index > 0) {
            UIkit.Utils.scrollToElement(UIkit.$('#am-cotizacion'), {offset: -350});
        }
    });
}

function setCotizacionFormsHide() {
    $('#cotizacionOpt1')[0].classList.add('uk-hidden');
    $('#cotizacionOpt2')[0].classList.add('uk-hidden');
    $('#cotizacionOpt3')[0].classList.add('uk-hidden');
}

function setFrmStyle(frameWidth) {
    if(frameWidth <= 767) {
        $('#contactFrm')[0].classList.remove('uk-form-horizontal');
        $('#solicitanteFrm')[0].classList.remove('uk-form-horizontal');
        $('#cotizacionOpt1Frm')[0].classList.remove('uk-form-horizontal');
        $('#cotizacionOpt2Frm')[0].classList.remove('uk-form-horizontal');
        $('#cotizacionOpt3Frm')[0].classList.remove('uk-form-horizontal');
    } else {
        $('#contactFrm')[0].classList.add('uk-form-horizontal');
        $('#solicitanteFrm')[0].classList.add('uk-form-horizontal');
        $('#cotizacionOpt1Frm')[0].classList.add('uk-form-horizontal');
        $('#cotizacionOpt2Frm')[0].classList.add('uk-form-horizontal');
        $('#cotizacionOpt3Frm')[0].classList.add('uk-form-horizontal');
    }
}

function validateContactForm() {
    var name = $('#frmName')[0];
    var email = $('#frmEmail')[0];
    var phone = $('frmPhone')[0];
    var message = $('frmMessage')[0];

    return true;
}

function sendContactForm() {
    $('#contactForm')[0].classList.add('uk-hidden');
    $('#contactSuccess')[0].classList.remove('uk-hidden');
}